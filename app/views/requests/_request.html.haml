= link_to request do
  %div{class: "mt-2 flex bg-white rounded-sm border border-gray-400 hover:border-gray-900 group"}
    = link_to request do
      %div{class: "py-2 w-12 flex-shrink-0 flex flex-col place-items-center bg-gray-100 h-full"}
        %div{class: "text-sm leading-none px-1 py-1 rounded group-hover:text-primary group-hover:animate-bounce"}
          â–²
        %div{class: "font-semibold leading-none group-hover:text-primary"}
          = upvote_count(request)
    %div{class: "flex flex-col"}
      %div{class: "mt-2 pl-3 text-xs text-gray-600 flex flex-wrap"}
        - niche = request.industries.first || request.occupations.first
        %div{class: "hover:text-black font-medium text-black hover:bg-gray-200 hover:bg-opacity-70 -m-1 p-1"}
          = link_to "#{niche.title}", niche
          -# = niche.title
        .mx-1
          &middot;
        .hover:text-black.flex-shrink-0
          = request.user.name
        .ml-2.flex-shrink-0.hover:underline.hover:text-black
          = link_to "#{time_ago_in_words(request.created_at)} ago", request
          -# = "#{time_ago_in_words(request.created_at)} ago"
      = link_to request do
        %div{class: "flex flex-wrap w-full"}
          %div{class: "ml-2 mr-8 -my-1 p-1 font-semibold mt-2 two-lines-only hover:bg-gray-200"}
            = request.title
          %div{class: "pl-3 pr-9 mt-3 read-more w-full"}
            = request.description_safe_html.html_safe
          %div{class: "ml-3 mr-9 px-1 mt-2 mb-2 w-full flex items-center text-xs px-1 text-gray-700 font-semibold w-min rounded-lg",
              hover: "bg-gray-300"}
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-6 h-6">
            <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z" />
            <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z" />
            </svg>
            %div{class: "flex-shrink-0 ml-1 "}
              = "#{pluralize(request.root_comments.count, 'Comment')}"


      -# %div{class: "pt-2 pb-2 pl-3 pr-9 text-xs inline-flex disable-scrollbars w-full text-gray-600 overflow-auto w-full"}
      -#   .text-gray-600.flex-shrink-0
      -#     Posted to
      -#   - request.industries.each do |i|
      -#     .ml-2.hover:text-black.flex-shrink-0.font-mediu
      -#       = "#{i.title} (Industry)"
      -#   - request.occupations.each do |o|
      -#     .ml-2.hover:text-black.flex-shrink-0.font-medim
      -#       = "#{o.title} (Occupation)"


      -# %div{class: "mt-2 pl-3 pr-9 py-2 text-xs inline-flex bg-gray-100 w-full text-black"}
      -#   .text-gray-600
      -#     Posted to
      -#   - request.industries.each do |i|
      -#     .ml-1.hover:text-black
      -#       = i.title
      -#   - request.occupations.each do |o|
      -#     .ml-1.hover:text-black
      -#       = o.title



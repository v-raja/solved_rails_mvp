-# = link_to request do
-#   %div{class: "bg-white px-5 py-5 flex rounded-sm"}
-#     -# %div{class: "w-20 h-20 flex-shrink-0"}
-#     -#   = image_tag request.product.logo_url
-#     %div{class: "ml-3 flex-1 flex flex-col justify-between"}
-#       %div{class: "w-full font-semibold text-sm"}
-#         = request.title.titleize
-#       -# %div{class: "text-gray-700 text-sm leading-none"}
-#       -#   = "with #{request.product.name}"

-#     %div{class: "text-gray-900 place-self-center flex-shrink-0 flex flex-col items-center justify-center w-14 h-16 rounded-sm border border-gray-300 leading-none"}
-#       -# = link_to upvote_request_path(request), class: "text-gray-900 place-self-center flex-shrink-0 flex flex-col items-center justify-center w-14 h-16 rounded-sm border border-gray-300 leading-none" do
-#       %div{class: "text-sm leading-none"}
-#         ▲
-#       %div{class: "mt-1 font-semibold"}
-#         = upvote_count(request)

= link_to request do
  %div{class: "mt-2 flex bg-white rounded border border-gray-400 w-full"}
    %div{class: "py-2 w-12 flex-shrink-0 flex flex-col place-items-center bg-gray-100"}
      %div{class: "text-sm leading-none px-1 py-1 rounded",
           hover: "bg-gray-400 text-primary"}
        ▲
      %div{class: "font-semibold leading-none"}
        = upvote_count(request)
    %div{class: "flex flex-col leading-none w-full"}
      %div{class: "pl-3 pr-9 mt-1 inline-flex text-xs text-gray-500"}
        -# - if niche = request.industries.first
        -#   .hover:text-black
        -#     = "#{niche.title} (#{niche.class.name})"
        -#   - if niche = request.occupations.first
        -#     .hover:text-black
        -#       = "#{niche.title} (#{niche.class.name})"
        -#   - elsif niche = request.industries.second
        -#     .hover:text-black
        -#       = "#{niche.title} (#{niche.class.name})"
        -# - elsif niche = request.occupations.first
        -#   .hover:text-black
        -#     = "#{niche.title} (#{niche.class.name})"
        -#   - if niche = request.occupations.second
        -#     .hover:text-black
        -#       = "#{niche.title} (#{niche.class.name})"
        -# .mx-1
        -#   &middot; by
        .hover:text-black
          = request.user.name
      %div{class: "pl-3 pr-9 font-medium pt-2"}
        = request.title.titleize
      %div{class: "pl-3 pr-9 mt-2 read-more"}
        = request.description.gsub(/\n/, '<br/>').html_safe
      %div{class: "pl-3 pr-9 mt-1 flex items-center text-xs px-1 text-gray-700 font-semibold w-min rounded-lg",
           hover: "bg-gray-300"}
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-6 h-6">
        <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z" />
        <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z" />
        </svg>
        %div{class: "flex-shrink-0 ml-1 "}
          = "#{pluralize(request.root_comments.count, 'Comment')}"
      %div{class: "mt-2 pl-3 pr-9 py-2 text-xs inline-flex bg-gray-100 w-full text-black"}
        .text-gray-600
          Posted to
        - request.industries.each do |i|
          .ml-1.hover:text-black
            = i.title
        - request.occupations.each do |o|
          .ml-1.hover:text-black
            = o.title



= link_to post do
  %div{class: "mt-2 bg-white px-5 border border-gray-400"}
    %div{class: "flex rounded-sm py-5"}
      %div{class: "w-20 h-20 flex-shrink-0"}
        = image_tag post.product.logo_url
      %div{class: "ml-3 flex-1 flex flex-col justify-between"}
        %div{class: "w-full font-semibold text-sm"}
          - exclude = ["and", "or", "the", "over", "to", "the", "a", "but", "of", "as", "for"]
          = post.problem_title.titleize(exclude: exclude)
        -# %div{class: "text-gray-700 text-sm leading-none"}
        -#   = "with #{post.product.name}"
        %div{class: "text-xs text-gray-600 flex flex-wrap two-lines-only"}
          -# - niches = post.industries.to_a.concat(post.occupations.to_a)
          -# -# - niche = post.industries.first || post.occupations.first
          -# - if niches.first
          -#   .w-full
          -#     = "#{niches.first.title} (#{niches.first.class.name})"
          -# - if niches.second
          -#   .w-full
          -#     = "#{niches.second.title} (#{niches.second.class.name})"
          -#   -# = "Posted to #{niche.title}"
          - if niche = post.industries.first
            .w-full.hover:text-black
              = "#{niche.title} (#{niche.class.name})"
            - if niche = post.occupations.first
              .w-full.hover:text-black
                = "#{niche.title} (#{niche.class.name})"
            - elsif niche = post.industries.second
              .w-full.hover:text-black
                = "#{niche.title} (#{niche.class.name})"
          - elsif niche = post.occupations.first
            .w-full.hover:text-black
              = "#{niche.title} (#{niche.class.name})"
            - if niche = post.occupations.second
              .w-full.hover:text-black
                = "#{niche.title} (#{niche.class.name})"
                -# = link_to "#{niche.title} (#{niche.class.name})", niche

      %div{class: "ml-10 text-gray-900 place-self-center flex-shrink-0 flex flex-col items-center justify-center w-14 h-16 rounded-sm border border-gray-300 leading-none transition hover:text-primary"}
        -# = link_to upvote_post_path(post), class: "text-gray-900 place-self-center flex-shrink-0 flex flex-col items-center justify-center w-14 h-16 rounded-sm border border-gray-300 leading-none" do
        %div{class: "text-sm leading-none"}
          â–²
        %div{class: "mt-1 font-semibold"}
          = upvote_count(post)
